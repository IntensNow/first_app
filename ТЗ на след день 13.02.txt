1) Настоить redux devtools;
2) Настроить redux store;
3) Разобраться с промисами в mongoose;





Пока остановиться на таком функционале:

Есть список каналов, каждый пользователь может к нему присоединится.

Списка пользователей пока нет.


##позже сделать в хедере чат бокса компонент, который будет 
отображать список пользователей, если это будет нужно.
Список будет работать как список участников чата в вк.

Нажимать на кнопку 'Join channel' можно только авторизированным
пользователям.

Итого:

1. Доделать авторизацию (пока только логин).

2. Настроить вход в канал. (при этом, канал получает свойство
active = true, а сокет на сервере добавляется в канал по id канала.)

3. Когда пользователь пишет сообщение, в тот канал, что является
active = true, начинается транслироваться все что он пишет.

onMessage обработчик чата смотрит на переменную channels.active.

Активный канал может менятся, но новые сообщения будут отправляться
в те, участником которых являются пользователи.

Когда поступает сообщение в неактивный(не открытый) канал, наверху
справа всплывает уведомление.

вынести socket в контеинер app, запускать в неймспейсе app
При заходе на страницу чата, заходить в новую общую комнату
всех чатов, либо в новый неймспейс. 

1)Сначало разбираемся с самодельным мидлвейром для редиректа, 
2)затем уже разбираемся с неправильной работой компонента login.
Нужно чтобы компонент, при неправильном пароле или логине давал
пользователю соответствующее уведомление и как следствие возможность
отправить данные заного.

Когда юзер заходит не авторизированным на /chat
его выбивает на компонент - noAccess;
компонент noAccess - содержит надпись:

Нужно написать редьюсер, который будет при екшене ,который диспатчится
при авторизации, добавлять юзера в стейт.


########################
28.02.2017
1)разбираемся с неправильной работой компонента login.
Нужно чтобы компонент, при неправильном пароле или логине давал
пользователю соответствующее уведомление и как следствие возможность
отправить данные заного.
Отправка данных => поля заблокировались, пришло уведомление об ошибке,
поля разблокировались.

2)Навешиваем обработчики на создание чата, делаем возможность 
юзером создавать чат.

3)Делаем функционал кнопки join chat у канала.  (нужно както пушить юзера в channel.members)

4)Делаем сам мессенджинг чата. (На сабмит формы textarea навешиваем обработчик, который посылает 
на сервер сообщение. Оно пушится в channel.messages, 
У юзера есть активный канал. Юзер может находиться (по сокету) только в одном канале, в него и будут эмитится 
сообщения после пуша в channel.messages;

Это даст 2 преимущества : юзеры не будут получать лишних сообщений 
			: юзеры будут получать все сообщения разом только при нажатии join chat



2######

Доделываем внешний вид create channel, валидацию. (ready)

делаем функционал создания чата.

Когда пользователь нажимает join chat. 
В базе данных он добавляется в members , так же добавляется в сокет.
Когда юзер пишет сообщение в чат - оно пушится в channels.messages 
на сервере методом findAndUpdate. и после того как метод отработал,
эти месседжи отправляются сокетом в комнату чата. 
(так удастся сэкономить, просто добавляя новые месседжи, а не
высылая список старых каждый раз из базы данных)
 

Не хочет создавать канал.

добавляем юзеров в схему канала в базе данных для того чтобы
при обновлении списка каналов, было видно количество members в канале.
Добавляем каждое сообщение в базу, для того чтобы при входе в канал
юзер получал все эти сообщения на клиент.
Когда юзер отправляет сообщение - обьект эмита включает в себя
название активного на данный момент канала юзера, в него то и 
будут добавляться эти месседжи и в комнату с названием этого чата
будут эмитится сообщения. (не придется извлекать обратно из базы)

Вынести весь функционал из SideBox в ChatContainer. 
Решить проблему - когда юзер выходит с приложения, он остается в базе
данных как член канала.
Настроить отправку сообщений.

События клавиатуры разобрать для того чтобы настроить textarea 
onCLickEnter = submit.

Можно считерить с алертом который должен появлятся когда юзер
уже авторизирован но заходит на страницы /signup или /signin, 
можно просто не авторизировать пользователя и удалять из куков 
в таком случае.
А можно прямо в index.jsx корневом в той функции где идет диспатч
checkAuth еще проверить является ли эта страница /signin или signup
и выдать алерты прямо там.

1##### настраиваем мессенджинг а уже потом разбираемся с доступами.

1) добавление сообщения в базу.

2) эмит сообщения в сокет канал.

можно сделать чтобы выход из канала производился только если 
юзер выходит из него сам. А удалялся канал, если там осталось 0 чел.

нужно сделать чтобы при смене канала удалялось сообщение в поле,
так же сделать чтобы при загрузке /chat вначале ставился канал
LobbyChannel и отправлялась смена канала на сервер.

Сделать так чтобы при создании канала, активный канал на клиенте
тоже менялся.