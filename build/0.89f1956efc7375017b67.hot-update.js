webpackHotUpdate(0,{

/***/ 662:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(2), RootInstanceProvider = __webpack_require__(10), ReactMount = __webpack_require__(12), React = __webpack_require__(98); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.redirectTo = redirectTo;\nexports.checkAuth = checkAuth;\nexports.addChannels = addChannels;\nexports.requestSignUp = requestSignUp;\nexports.signUp = signUp;\nexports.signIn = signIn;\nexports.showModal = showModal;\nexports.hideModal = hideModal;\nexports.receiveChannels = receiveChannels;\nexports.joinChannel = joinChannel;\nexports.addMessagesFromDB = addMessagesFromDB;\nexports.addSingleMessage = addSingleMessage;\nexports.createChannel = createChannel;\n\nvar _ActionTypes = __webpack_require__(292);\n\nvar types = _interopRequireWildcard(_ActionTypes);\n\nvar _reactRouter = __webpack_require__(226);\n\nvar _isomorphicFetch = __webpack_require__(663);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _reactCookie = __webpack_require__(665);\n\nvar _reactCookie2 = _interopRequireDefault(_reactCookie);\n\nvar _socket = __webpack_require__(667);\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction receiveUser(username) {\n    var user = {\n        name: username,\n        isAuthenticated: true\n    };\n    return {\n        type: types.AUTH_SUCCESS,\n        user: user\n    };\n}\n\nfunction redirectTo(url) {\n    return function (dispatch) {\n        dispatch({\n            type: types.REDIRECT,\n            url: url\n        });\n    };\n}\n\nfunction checkAuth() {\n    return function (dispatch) {\n        var username = _reactCookie2.default.load('username');\n        if (!username) {\n            if (location.pathname === '/signin') {\n                return;\n            }\n            _reactRouter.browserHistory.push('/signup');\n        } else {\n            dispatch(receiveUser(username));\n            _socket2.default.emit('set username', username);\n        }\n    };\n}\n\nfunction addChannels(list) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_CHANNELS,\n            list: list\n        });\n    };\n}\n\nfunction requestSignUp() {\n    return {\n        type: types.AUTH_SIGNUP\n    };\n}\n\nfunction signUp(user) {\n\n    return function (dispatch) {\n\n        dispatch(requestSignUp());\n        return (0, _isomorphicFetch2.default)('/api/sign_up', {\n            method: 'post',\n            //заголовки, чтобы возможно было отправить json через body/\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        }).then(function (response) {\n            if (response.ok) {\n                //сохраняем имя пользователя в cokie\n                _reactCookie2.default.save('username', user.userLogin);\n                dispatch(receiveUser(user.userLogin));\n                _reactRouter.browserHistory.push('/chat');\n            }\n        }).catch(function (error) {\n            throw error;\n        });\n    };\n}\n\nfunction signIn(user) {\n\n    return function (dispatch) {\n\n        return (0, _isomorphicFetch2.default)('/api/sign_in', {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        }).then(function (response) {\n            if (response.ok) {\n                _reactCookie2.default.save('username', user.userLogin);\n                dispatch(receiveUser(user.userLogin));\n                _reactRouter.browserHistory.push('/chat');\n            }\n            if (response.statusText === 'Unauthorized') {\n                dispatch(showModal('Wrong login or password'));\n            }\n        }).catch(function (error) {\n            throw error;\n        });\n    };\n}\n\nfunction showModal(text) {\n\n    return function (dispatch) {\n        dispatch({\n            type: types.SHOW_MODAL,\n            text: text\n        });\n    };\n}\n\nfunction hideModal() {\n\n    return function (dispatch) {\n        dispatch({\n            type: types.HIDE_MODAL\n        });\n    };\n}\n\nfunction receiveChannels(list) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_CHANNELS,\n            list: list\n        });\n    };\n}\n\nfunction joinChannel(nextChannel) {\n    return function (dispatch) {\n        dispatch({\n            type: types.CHANGE_ACTIVE_CHANNEL,\n            nextChannel: nextChannel\n        });\n    };\n}\n\nfunction addMessagesFromDB(channel, messages) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_MSGS_FROM_DB,\n            channel: channel,\n            messages: messages\n        });\n    };\n}\n\nfunction addSingleMessage(message) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_SINGLE_MESSAGE,\n            message: message\n        });\n    };\n}\n\nfunction createChannel(channelTitle, username) {\n    return function () {\n        _socket2.default.emit('create channel', {\n            creator: username,\n            title: channelTitle\n        });\n        _socket2.default.emit('get primary list of channels');\n        console.log('в диспатче :' + channelTitle + ' ' + username);\n    };\n}\n\n/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(293); if (makeExportsHot(module, __webpack_require__(98))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot apply hot update to \" + \"index.js\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQWN0aW9ucy9pbmRleC5qcz8wYjY2Il0sIm5hbWVzIjpbInJlZGlyZWN0VG8iLCJjaGVja0F1dGgiLCJhZGRDaGFubmVscyIsInJlcXVlc3RTaWduVXAiLCJzaWduVXAiLCJzaWduSW4iLCJzaG93TW9kYWwiLCJoaWRlTW9kYWwiLCJyZWNlaXZlQ2hhbm5lbHMiLCJqb2luQ2hhbm5lbCIsImFkZE1lc3NhZ2VzRnJvbURCIiwiYWRkU2luZ2xlTWVzc2FnZSIsImNyZWF0ZUNoYW5uZWwiLCJ0eXBlcyIsInJlY2VpdmVVc2VyIiwidXNlcm5hbWUiLCJ1c2VyIiwibmFtZSIsImlzQXV0aGVudGljYXRlZCIsInR5cGUiLCJBVVRIX1NVQ0NFU1MiLCJ1cmwiLCJkaXNwYXRjaCIsIlJFRElSRUNUIiwibG9hZCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwdXNoIiwiZW1pdCIsImxpc3QiLCJBRERfQ0hBTk5FTFMiLCJBVVRIX1NJR05VUCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwic2F2ZSIsInVzZXJMb2dpbiIsImNhdGNoIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwidGV4dCIsIlNIT1dfTU9EQUwiLCJISURFX01PREFMIiwibmV4dENoYW5uZWwiLCJDSEFOR0VfQUNUSVZFX0NIQU5ORUwiLCJjaGFubmVsIiwibWVzc2FnZXMiLCJBRERfTVNHU19GUk9NX0RCIiwibWVzc2FnZSIsIkFERF9TSU5HTEVfTUVTU0FHRSIsImNoYW5uZWxUaXRsZSIsImNyZWF0b3IiLCJ0aXRsZSIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7UUFpQmdCQSxVLEdBQUFBLFU7UUFTQUMsUyxHQUFBQSxTO1FBZUFDLFcsR0FBQUEsVztRQVNBQyxhLEdBQUFBLGE7UUFNQUMsTSxHQUFBQSxNO1FBMEJBQyxNLEdBQUFBLE07UUEwQkFDLFMsR0FBQUEsUztRQVdB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U3pDLGFBQVQsQ0FBdUIyQyxZQUF2QixFQUFxQ3hDLFFBQXJDLEVBQStDO0FBQ2xELFdBQU8sWUFBTTtBQUNULHlCQUFPYSxJQUFQLENBQVksZ0JBQVosRUFBOEI7QUFDMUI0QixxQkFBU3pDLFFBRGlCO0FBRTFCMEMsbUJBQU1GO0FBRm9CLFNBQTlCO0FBSUEseUJBQU8zQixJQUFQLENBQVksOEJBQVo7QUFDQThCLGdCQUFRQyxHQUFSLENBQVksaUJBQWlCSixZQUFqQixHQUFnQyxHQUFoQyxHQUFzQ3hDLFFBQWxEO0FBQ0gsS0FQRDtBQVFILEMiLCJmaWxlIjoiNjYyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vY29uc3RhbnRzL0FjdGlvblR5cGVzJztcclxuaW1wb3J0IHsgYnJvd3Nlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCc7XHJcbmltcG9ydCBjb29raWUgZnJvbSAncmVhY3QtY29va2llJztcclxuaW1wb3J0IHNvY2tldCBmcm9tICcuLi9zb2NrZXQnO1xyXG5cclxuZnVuY3Rpb24gcmVjZWl2ZVVzZXIodXNlcm5hbWUpIHtcclxuICBjb25zdCB1c2VyID0ge1xyXG4gICAgbmFtZTogdXNlcm5hbWUsXHJcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIHR5cGU6IHR5cGVzLkFVVEhfU1VDQ0VTUyxcclxuICAgIHVzZXJcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWRpcmVjdFRvKHVybCkge1xyXG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcclxuICAgICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgICAgIHR5cGU6dHlwZXMuUkVESVJFQ1QsXHJcbiAgICAgICAgICAgIHVybFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0F1dGgoKSB7XHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gY29va2llLmxvYWQoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgaWYgKCF1c2VybmFtZSkge1xyXG4gICAgICAgICAgICBpZihsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zaWduaW4nKXtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9zaWdudXAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkaXNwYXRjaChyZWNlaXZlVXNlcih1c2VybmFtZSkpO1xyXG4gICAgICAgICAgICBzb2NrZXQuZW1pdCgnc2V0IHVzZXJuYW1lJywgdXNlcm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENoYW5uZWxzKGxpc3QpIHtcclxuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgIHR5cGU6IHR5cGVzLkFERF9DSEFOTkVMUyxcclxuICAgICAgICBsaXN0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0U2lnblVwKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOnR5cGVzLkFVVEhfU0lHTlVQXHJcbiAgICB9IFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2lnblVwKHVzZXIpIHtcclxuICAgIFxyXG4gIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgIFxyXG4gICAgZGlzcGF0Y2gocmVxdWVzdFNpZ25VcCgpKVxyXG4gICAgcmV0dXJuIGZldGNoKCcvYXBpL3NpZ25fdXAnLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcclxuICAgICAgICAgICAgLy/Qt9Cw0LPQvtC70L7QstC60LgsINGH0YLQvtCx0Ysg0LLQvtC30LzQvtC20L3QviDQsdGL0LvQviDQvtGC0L/RgNCw0LLQuNGC0YwganNvbiDRh9C10YDQtdC3IGJvZHkvXHJcbiAgICAgICAgICBoZWFkZXJzOiB7IFxyXG4gICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsIFxyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyKVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgaWYocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgLy/RgdC+0YXRgNCw0L3Rj9C10Lwg0LjQvNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQsiBjb2tpZVxyXG4gICAgICAgICAgY29va2llLnNhdmUoJ3VzZXJuYW1lJywgdXNlci51c2VyTG9naW4pO1xyXG4gICAgICAgICAgZGlzcGF0Y2gocmVjZWl2ZVVzZXIodXNlci51c2VyTG9naW4pKTtcclxuICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9jaGF0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge3Rocm93IGVycm9yfSk7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Jbih1c2VyKSB7XHJcbiAgICBcclxuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKCcvYXBpL3NpZ25faW4nLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDoncG9zdCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXIpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICBjb29raWUuc2F2ZSgndXNlcm5hbWUnLCB1c2VyLnVzZXJMb2dpbik7XHJcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChyZWNlaXZlVXNlcih1c2VyLnVzZXJMb2dpbikpO1xyXG4gICAgICAgICAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaCgnL2NoYXQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5zdGF0dXNUZXh0ID09PSAnVW5hdXRob3JpemVkJyl7XHJcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChzaG93TW9kYWwoJ1dyb25nIGxvZ2luIG9yIHBhc3N3b3JkJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4geyB0aHJvdyBlcnJvciB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dNb2RhbCh0ZXh0KSB7XHJcbiAgICBcclxuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICB0eXBlOnR5cGVzLlNIT1dfTU9EQUwsXHJcbiAgICAgICAgICAgIHRleHRcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoaWRlTW9kYWwoKSB7XHJcbiAgICBcclxuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICB0eXBlOnR5cGVzLkhJREVfTU9EQUxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWNlaXZlQ2hhbm5lbHMobGlzdCkge1xyXG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcclxuICAgICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgICAgIHR5cGU6dHlwZXMuQUREX0NIQU5ORUxTLFxyXG4gICAgICAgICAgICBsaXN0XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5DaGFubmVsKG5leHRDaGFubmVsKSB7XHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICAgICAgdHlwZTp0eXBlcy5DSEFOR0VfQUNUSVZFX0NIQU5ORUwsXHJcbiAgICAgICAgICAgIG5leHRDaGFubmVsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZE1lc3NhZ2VzRnJvbURCKGNoYW5uZWwsIG1lc3NhZ2VzKSB7XHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICAgICAgdHlwZTp0eXBlcy5BRERfTVNHU19GUk9NX0RCLFxyXG4gICAgICAgICAgICBjaGFubmVsLFxyXG4gICAgICAgICAgICBtZXNzYWdlc1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRTaW5nbGVNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgICAgICAgdHlwZTp0eXBlcy5BRERfU0lOR0xFX01FU1NBR0UsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZVxyXG4gICAgICAgICAgfSlcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDaGFubmVsKGNoYW5uZWxUaXRsZSwgdXNlcm5hbWUpIHtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgc29ja2V0LmVtaXQoJ2NyZWF0ZSBjaGFubmVsJywge1xyXG4gICAgICAgICAgICBjcmVhdG9yOiB1c2VybmFtZSxcclxuICAgICAgICAgICAgdGl0bGU6Y2hhbm5lbFRpdGxlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc29ja2V0LmVtaXQoJ2dldCBwcmltYXJ5IGxpc3Qgb2YgY2hhbm5lbHMnKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn0LIg0LTQuNGB0L/QsNGC0YfQtSA6JyArIGNoYW5uZWxUaXRsZSArICcgJyArIHVzZXJuYW1lKTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9BY3Rpb25zL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

})