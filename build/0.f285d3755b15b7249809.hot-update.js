webpackHotUpdate(0,{

/***/ 1122:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(2), RootInstanceProvider = __webpack_require__(10), ReactMount = __webpack_require__(12), React = __webpack_require__(98); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.redirectTo = redirectTo;\nexports.checkAuth = checkAuth;\nexports.addChannels = addChannels;\nexports.requestSignUp = requestSignUp;\nexports.signUp = signUp;\nexports.signIn = signIn;\n\nvar _ActionTypes = __webpack_require__(1123);\n\nvar types = _interopRequireWildcard(_ActionTypes);\n\nvar _reactRouter = __webpack_require__(226);\n\nvar _isomorphicFetch = __webpack_require__(1124);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _reactCookie = __webpack_require__(341);\n\nvar _reactCookie2 = _interopRequireDefault(_reactCookie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction receiveUser(username) {\n    var user = {\n        name: username,\n        isAuthenticated: true\n    };\n    return {\n        type: types.AUTH_SUCCESS,\n        user: user\n    };\n}\n\nfunction redirectTo(url) {\n    return function (dispatch) {\n        dispatch({\n            type: types.REDIRECT,\n            url: url\n        });\n    };\n}\n\nfunction checkAuth() {\n    var username = _reactCookie2.default.load('username');\n    if (!username) {\n        _reactRouter.browserHistory.push('/signup');\n    }\n}\n\nfunction addChannels(list) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_CHANNELS,\n            list: list\n        });\n    };\n}\n\nfunction requestSignUp() {\n    return {\n        type: types.AUTH_SIGNUP\n    };\n}\n\nfunction signUp(user) {\n\n    return function (dispatch) {\n\n        dispatch(requestSignUp());\n        return (0, _isomorphicFetch2.default)('/api/sign_up', {\n            method: 'post',\n            //заголовки, чтобы возможно было отправить json через body/\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        }).then(function (response) {\n            if (response.ok) {\n                //сохраняем имя пользователя в cokie\n                _reactCookie2.default.save('username', user.userLogin);\n                dispatch(receiveUser(user.userLogin));\n                _reactRouter.browserHistory.push('/chat');\n            }\n        }).catch(function (error) {\n            throw error;\n        });\n    };\n}\n\nfunction signIn(user) {\n\n    return function (dispatch) {\n\n        return (0, _isomorphicFetch2.default)('/api/sign_in', {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        }).then(function (response) {\n            /*if(response.ok) {\r\n                cookie.save('username', user.userLogin);\r\n                dispatch(receiveUser(user.userLogin));\r\n                browserHistory.push('/chat');\r\n            }\r\n            if(response.statusText === 'Unauthorized')*/\n            console.log(JSON.parse(response.body));\n            dispatch({ type: 'someaction' });\n        }).catch(function (error) {\n            dispatch({ type: 'response error', error: error });\n        });\n    };\n}\n\n/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(956); if (makeExportsHot(module, __webpack_require__(98))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot apply hot update to \" + \"index.js\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQWN0aW9ucy9pbmRleC5qcz8wYjY2Il0sIm5hbWVzIjpbInJlZGlyZWN0VG8iLCJjaGVja0F1dGgiLCJhZGRDaGFubmVscyIsInJlcXVlc3RTaWduVXAiLCJzaWduVXAiLCJzaWduSW4iLCJ0eXBlcyIsInJlY2VpdmVVc2VyIiwidXNlcm5hbWUiLCJ1c2VyIiwibmFtZSIsImlzQXV0aGVudGljYXRlZCIsInR5cGUiLCJBVVRIX1NVQ0NFU1MiLCJ1cmwiLCJkaXNwYXRjaCIsIlJFRElSRUNUIiwibG9hZCIsInB1c2giLCJsaXN0IiwiQUREX0NIQU5ORUxTIiwiQVVUSF9TSUdOVVAiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsInNhdmUiLCJ1c2VyTG9naW4iLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInBhcnNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O1FBaUJnQkEsVSxHQUFBQSxVO1FBU0FDLFMsR0FBQUEsUztRQU9BQyxXLEdBQUFBLFc7UUFTQUMsYSxHQUFBQSxhO1FBTUFDLE0sR0FBQUEsTTtRQTBCQUMsTSxHQUFBQSxNOztBQTFFaEI7O0lBQVlDLEs7O0FBQ1o7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFHQSxTQUFTQyxXQUFULENBQXFCQyxRQUFyQixFQUErQjtBQUM3QixRQUFNQyxPQUFPO0FBQ1hDLGNBQU1GLFFBREs7QUFFWEcseUJBQWlCO0FBRk4sS0FBYjtBQUlBLFdBQU87QUFDTEMsY0FBTU4sTUFBTU8sWUFEUDtBQUVMSjtBQUZLLEtBQVA7QUFJRDs7QUFFTSxTQUFTVCxVQUFULENBQW9CYyxHQUFwQixFQUF5QjtBQUM1QixXQUFPLG9CQUFZO0FBQ2ZDLGlCQUFTO0FBQ0xILGtCQUFLTixNQUFNVSxRQUROO0FBRUxGO0FBRkssU0FBVDtBQUlILEtBTEQ7QUFNSDs7QUFFTSxTQUFTYixTQUFULEdBQXFCO0FBQ3hCLFFBQU1PLFdBQVcsc0JBQU9TLElBQVAsQ0FBWSxVQUFaLENBQWpCO0FBQ0EsUUFBSSxDQUFDVCxRQUFMLEVBQWU7QUFDWCxvQ0FBZVUsSUFBZixDQUFvQixTQUFwQjtBQUNIO0FBQ0o7O0FBRU0sU0FBU2hCLFdBQVQsQ0FBcUJpQixJQUFyQixFQUEyQjtBQUM5QixXQUFPLFVBQVNKLFFBQVQsRUFBbUI7QUFDdEJBLGlCQUFTO0FBQ1RILGtCQUFNTixNQUFNYyxZQURIO0FBRVREO0FBRlMsU0FBVDtBQUlILEtBTEQ7QUFNSDs7QUFFTSxTQUFTaEIsYUFBVCxHQUF5QjtBQUM1QixXQUFPO0FBQ0hTLGNBQUtOLE1BQU1lO0FBRFIsS0FBUDtBQUdIOztBQUVNLFNBQVNqQixNQUFULENBQWdCSyxJQUFoQixFQUFzQjs7QUFFM0IsV0FBTyxvQkFBWTs7QUFFakJNLGlCQUFTWixlQUFUO0FBQ0EsZUFBTywrQkFBTSxjQUFOLEVBQXNCO0FBQ3ZCbUIsb0JBQVEsTUFEZTtBQUVyQjtBQUNGQyxxQkFBUztBQUNMLDBCQUFVLGtCQURMO0FBRUwsZ0NBQWdCO0FBRlgsYUFIYztBQU92QkMsa0JBQU1DLEtBQUtDLFNBQUwsQ0FBZWpCLElBQWY7QUFQaUIsU0FBdEIsRUFTSmtCLElBVEksQ0FTQyxvQkFBWTtBQUNoQixnQkFBR0MsU0FBU0MsRUFBWixFQUFnQjtBQUNaO0FBQ0Ysc0NBQU9DLElBQVAsQ0FBWSxVQUFaLEVBQXdCckIsS0FBS3NCLFNBQTdCO0FBQ0FoQix5QkFBU1IsWUFBWUUsS0FBS3NCLFNBQWpCLENBQVQ7QUFDQSw0Q0FBZWIsSUFBZixDQUFvQixPQUFwQjtBQUNEO0FBQ0YsU0FoQkksRUFpQkpjLEtBakJJLENBaUJFLGlCQUFTO0FBQUMsa0JBQU1DLEtBQU47QUFBWSxTQWpCeEIsQ0FBUDtBQWtCRCxLQXJCRDtBQXNCRDs7QUFFTSxTQUFTNUIsTUFBVCxDQUFnQkksSUFBaEIsRUFBc0I7O0FBRXpCLFdBQU8sb0JBQVk7O0FBRWYsZUFBTywrQkFBTSxjQUFOLEVBQXNCO0FBQ3pCYSxvQkFBTyxNQURrQjtBQUV6QkMscUJBQVM7QUFDTCwwQkFBVSxrQkFETDtBQUVMLGdDQUFnQjtBQUZYLGFBRmdCO0FBTXpCQyxrQkFBTUMsS0FBS0MsU0FBTCxDQUFlakIsSUFBZjtBQU5tQixTQUF0QixFQVFOa0IsSUFSTSxDQVFELG9CQUFZO0FBQ2Q7Ozs7OztBQU1BTyxvQkFBUUMsR0FBUixDQUFZVixLQUFLVyxLQUFMLENBQVdSLFNBQVNKLElBQXBCLENBQVo7QUFDQVQscUJBQVMsRUFBQ0gsTUFBSyxZQUFOLEVBQVQ7QUFDSCxTQWpCTSxFQWtCTm9CLEtBbEJNLENBa0JBLGlCQUFTO0FBQ1pqQixxQkFBUyxFQUFFSCxNQUFLLGdCQUFQLEVBQXlCcUIsT0FBTUEsS0FBL0IsRUFBVDtBQUNILFNBcEJNLENBQVA7QUFxQkgsS0F2QkQ7QUF3QkgsQyIsImZpbGUiOiIxMTIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vY29uc3RhbnRzL0FjdGlvblR5cGVzJztcclxuaW1wb3J0IHsgYnJvd3Nlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCc7XHJcbmltcG9ydCBjb29raWUgZnJvbSAncmVhY3QtY29va2llJztcclxuXHJcblxyXG5mdW5jdGlvbiByZWNlaXZlVXNlcih1c2VybmFtZSkge1xyXG4gIGNvbnN0IHVzZXIgPSB7XHJcbiAgICBuYW1lOiB1c2VybmFtZSxcclxuICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZVxyXG4gIH1cclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogdHlwZXMuQVVUSF9TVUNDRVNTLFxyXG4gICAgdXNlclxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZGlyZWN0VG8odXJsKSB7XHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICAgICAgdHlwZTp0eXBlcy5SRURJUkVDVCxcclxuICAgICAgICAgICAgdXJsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQXV0aCgpIHtcclxuICAgIGNvbnN0IHVzZXJuYW1lID0gY29va2llLmxvYWQoJ3VzZXJuYW1lJyk7XHJcbiAgICBpZiAoIXVzZXJuYW1lKSB7XHJcbiAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaCgnL3NpZ251cCcpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hhbm5lbHMobGlzdCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgIHR5cGU6IHR5cGVzLkFERF9DSEFOTkVMUyxcclxuICAgICAgICBsaXN0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0U2lnblVwKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOnR5cGVzLkFVVEhfU0lHTlVQXHJcbiAgICB9IFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2lnblVwKHVzZXIpIHtcclxuICAgIFxyXG4gIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgIFxyXG4gICAgZGlzcGF0Y2gocmVxdWVzdFNpZ25VcCgpKVxyXG4gICAgcmV0dXJuIGZldGNoKCcvYXBpL3NpZ25fdXAnLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcclxuICAgICAgICAgICAgLy/Qt9Cw0LPQvtC70L7QstC60LgsINGH0YLQvtCx0Ysg0LLQvtC30LzQvtC20L3QviDQsdGL0LvQviDQvtGC0L/RgNCw0LLQuNGC0YwganNvbiDRh9C10YDQtdC3IGJvZHkvXHJcbiAgICAgICAgICBoZWFkZXJzOiB7IFxyXG4gICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsIFxyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyKVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgaWYocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgLy/RgdC+0YXRgNCw0L3Rj9C10Lwg0LjQvNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQsiBjb2tpZVxyXG4gICAgICAgICAgY29va2llLnNhdmUoJ3VzZXJuYW1lJywgdXNlci51c2VyTG9naW4pO1xyXG4gICAgICAgICAgZGlzcGF0Y2gocmVjZWl2ZVVzZXIodXNlci51c2VyTG9naW4pKTtcclxuICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9jaGF0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge3Rocm93IGVycm9yfSk7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Jbih1c2VyKSB7XHJcbiAgICBcclxuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKCcvYXBpL3NpZ25faW4nLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDoncG9zdCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXIpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgIC8qaWYocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIGNvb2tpZS5zYXZlKCd1c2VybmFtZScsIHVzZXIudXNlckxvZ2luKTtcclxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHJlY2VpdmVVc2VyKHVzZXIudXNlckxvZ2luKSk7XHJcbiAgICAgICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvY2hhdCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1c1RleHQgPT09ICdVbmF1dGhvcml6ZWQnKSovXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04ucGFyc2UocmVzcG9uc2UuYm9keSkpO1xyXG4gICAgICAgICAgICBkaXNwYXRjaCh7dHlwZTonc29tZWFjdGlvbid9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZToncmVzcG9uc2UgZXJyb3InLCBlcnJvcjplcnJvciB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9BY3Rpb25zL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

})