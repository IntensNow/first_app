webpackHotUpdate(0,{

/***/ 662:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(2), RootInstanceProvider = __webpack_require__(10), ReactMount = __webpack_require__(12), React = __webpack_require__(98); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.redirectTo = redirectTo;\nexports.checkAuth = checkAuth;\nexports.addChannels = addChannels;\nexports.requestSignUp = requestSignUp;\nexports.signUp = signUp;\nexports.signIn = signIn;\nexports.showModal = showModal;\nexports.hideModal = hideModal;\nexports.receiveChannels = receiveChannels;\nexports.joinChannel = joinChannel;\nexports.addMessagesFromDB = addMessagesFromDB;\nexports.addSingleMessage = addSingleMessage;\nexports.createChannel = createChannel;\n\nvar _ActionTypes = __webpack_require__(292);\n\nvar types = _interopRequireWildcard(_ActionTypes);\n\nvar _reactRouter = __webpack_require__(226);\n\nvar _isomorphicFetch = __webpack_require__(663);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _reactCookie = __webpack_require__(665);\n\nvar _reactCookie2 = _interopRequireDefault(_reactCookie);\n\nvar _socket = __webpack_require__(667);\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction receiveUser(username) {\n    var user = {\n        name: username,\n        isAuthenticated: true\n    };\n    return {\n        type: types.AUTH_SUCCESS,\n        user: user\n    };\n}\n\nfunction redirectTo(url) {\n    return function (dispatch) {\n        dispatch({\n            type: types.REDIRECT,\n            url: url\n        });\n    };\n}\n\nfunction checkAuth() {\n    return function (dispatch) {\n        var username = _reactCookie2.default.load('username');\n        if (!username) {\n            if (location.pathname === '/signin') {\n                return;\n            }\n            _reactRouter.browserHistory.push('/signup');\n        } else {\n            dispatch(receiveUser(username));\n            _socket2.default.emit('set username', username);\n        }\n    };\n}\n\nfunction addChannels(list) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_CHANNELS,\n            list: list\n        });\n    };\n}\n\nfunction requestSignUp() {\n    return {\n        type: types.AUTH_SIGNUP\n    };\n}\n\nfunction signUp(user) {\n\n    return function (dispatch) {\n\n        dispatch(requestSignUp());\n        return (0, _isomorphicFetch2.default)('/api/sign_up', {\n            method: 'post',\n            //заголовки, чтобы возможно было отправить json через body/\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        }).then(function (response) {\n            if (response.ok) {\n                //сохраняем имя пользователя в cokie\n                _reactCookie2.default.save('username', user.userLogin);\n                dispatch(receiveUser(user.userLogin));\n                _reactRouter.browserHistory.push('/chat');\n            }\n        }).catch(function (error) {\n            throw error;\n        });\n    };\n}\n\nfunction signIn(user) {\n\n    return function (dispatch) {\n\n        return (0, _isomorphicFetch2.default)('/api/sign_in', {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        }).then(function (response) {\n            if (response.ok) {\n                _reactCookie2.default.save('username', user.userLogin);\n                dispatch(receiveUser(user.userLogin));\n                _reactRouter.browserHistory.push('/chat');\n            }\n            if (response.statusText === 'Unauthorized') {\n                dispatch(showModal('Wrong login or password'));\n            }\n        }).catch(function (error) {\n            throw error;\n        });\n    };\n}\n\nfunction showModal(text) {\n\n    return function (dispatch) {\n        dispatch({\n            type: types.SHOW_MODAL,\n            text: text\n        });\n    };\n}\n\nfunction hideModal() {\n\n    return function (dispatch) {\n        dispatch({\n            type: types.HIDE_MODAL\n        });\n    };\n}\n\nfunction receiveChannels(list) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_CHANNELS,\n            list: list\n        });\n    };\n}\n\nfunction joinChannel(nextChannel) {\n    return function (dispatch) {\n        dispatch({\n            type: types.CHANGE_ACTIVE_CHANNEL,\n            nextChannel: nextChannel\n        });\n    };\n}\n\nfunction addMessagesFromDB(channel, messages) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_MSGS_FROM_DB,\n            channel: channel,\n            messages: messages\n        });\n    };\n}\n\nfunction addSingleMessage(message) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_SINGLE_MESSAGE,\n            message: message\n        });\n    };\n}\n\nfunction createChannel(channelTitle, username) {\n    return function () {\n        _socket2.default.emit('create channel', {\n            creator: username,\n            title: channelTitle\n        });\n        _socket2.default.emit('get primary list of channels');\n    };\n}\n\n/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(293); if (makeExportsHot(module, __webpack_require__(98))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot apply hot update to \" + \"index.js\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQWN0aW9ucy9pbmRleC5qcz8wYjY2Il0sIm5hbWVzIjpbInJlZGlyZWN0VG8iLCJjaGVja0F1dGgiLCJhZGRDaGFubmVscyIsInJlcXVlc3RTaWduVXAiLCJzaWduVXAiLCJzaWduSW4iLCJzaG93TW9kYWwiLCJoaWRlTW9kYWwiLCJyZWNlaXZlQ2hhbm5lbHMiLCJqb2luQ2hhbm5lbCIsImFkZE1lc3NhZ2VzRnJvbURCIiwiYWRkU2luZ2xlTWVzc2FnZSIsImNyZWF0ZUNoYW5uZWwiLCJ0eXBlcyIsInJlY2VpdmVVc2VyIiwidXNlcm5hbWUiLCJ1c2VyIiwibmFtZSIsImlzQXV0aGVudGljYXRlZCIsInR5cGUiLCJBVVRIX1NVQ0NFU1MiLCJ1cmwiLCJkaXNwYXRjaCIsIlJFRElSRUNUIiwibG9hZCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwdXNoIiwiZW1pdCIsImxpc3QiLCJBRERfQ0hBTk5FTFMiLCJBVVRIX1NJR05VUCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwic2F2ZSIsInVzZXJMb2dpbiIsImNhdGNoIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwidGV4dCIsIlNIT1dfTU9EQUwiLCJISURFX01PREFMIiwibmV4dENoYW5uZWwiLCJDSEFOR0VfQUNUSVZFX0NIQU5ORUwiLCJjaGFubmVsIiwibWVzc2FnZXMiLCJBRERfTVNHU19GUk9NX0RCIiwibWVzc2FnZSIsIkFERF9TSU5HTEVfTUVTU0FHRSIsImNoYW5uZWxUaXRsZSIsImNyZWF0b3IiLCJ0aXRsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztRQWlCZ0JBLFUsR0FBQUEsVTtRQVNBQyxTLEdBQUFBLFM7UUFlQUMsVyxHQUFBQSxXO1FBU0FDLGEsR0FBQUEsYTtRQU1BQyxNLEdBQUFBLE07UUEwQkFDLE0sR0FBQUEsTTtRQTBCQUMsUyxHQUFBQSxTO1FBV0FDLFMsR0FBQUEsUztRQVVB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LFlBQXZCLEVBQXFDeEMsUUFBckMsRUFBK0M7QUFDbEQsV0FBTyxZQUFNO0FBQ1QseUJBQU9hLElBQVAsQ0FBWSxnQkFBWixFQUE4QjtBQUMxQjRCLHFCQUFTekMsUUFEaUI7QUFFMUIwQyxtQkFBTUY7QUFGb0IsU0FBOUI7QUFJQSx5QkFBTzNCLElBQVAsQ0FBWSw4QkFBWjtBQUNILEtBTkQ7QUFPSCxDIiwiZmlsZSI6IjY2Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL2NvbnN0YW50cy9BY3Rpb25UeXBlcyc7XHJcbmltcG9ydCB7IGJyb3dzZXJIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyJztcclxuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtZmV0Y2gnO1xyXG5pbXBvcnQgY29va2llIGZyb20gJ3JlYWN0LWNvb2tpZSc7XHJcbmltcG9ydCBzb2NrZXQgZnJvbSAnLi4vc29ja2V0JztcclxuXHJcbmZ1bmN0aW9uIHJlY2VpdmVVc2VyKHVzZXJuYW1lKSB7XHJcbiAgY29uc3QgdXNlciA9IHtcclxuICAgIG5hbWU6IHVzZXJuYW1lLFxyXG4gICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlXHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICB0eXBlOiB0eXBlcy5BVVRIX1NVQ0NFU1MsXHJcbiAgICB1c2VyXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVkaXJlY3RUbyh1cmwpIHtcclxuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICB0eXBlOnR5cGVzLlJFRElSRUNULFxyXG4gICAgICAgICAgICB1cmxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tBdXRoKCkge1xyXG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IGNvb2tpZS5sb2FkKCd1c2VybmFtZScpO1xyXG4gICAgICAgIGlmICghdXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgaWYobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2lnbmluJyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvc2lnbnVwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2gocmVjZWl2ZVVzZXIodXNlcm5hbWUpKTtcclxuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ3NldCB1c2VybmFtZScsIHVzZXJuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRDaGFubmVscyhsaXN0KSB7XHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICB0eXBlOiB0eXBlcy5BRERfQ0hBTk5FTFMsXHJcbiAgICAgICAgbGlzdFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdFNpZ25VcCgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTp0eXBlcy5BVVRIX1NJR05VUFxyXG4gICAgfSBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25VcCh1c2VyKSB7XHJcbiAgICBcclxuICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICBcclxuICAgIGRpc3BhdGNoKHJlcXVlc3RTaWduVXAoKSlcclxuICAgIHJldHVybiBmZXRjaCgnL2FwaS9zaWduX3VwJywge1xyXG4gICAgICAgICAgbWV0aG9kOiAncG9zdCcsXHJcbiAgICAgICAgICAgIC8v0LfQsNCz0L7Qu9C+0LLQutC4LCDRh9GC0L7QsdGLINCy0L7Qt9C80L7QttC90L4g0LHRi9C70L4g0L7RgtC/0YDQsNCy0LjRgtGMIGpzb24g0YfQtdGA0LXQtyBib2R5L1xyXG4gICAgICAgICAgaGVhZGVyczogeyBcclxuICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLCBcclxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlcilcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIGlmKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIC8v0YHQvtGF0YDQsNC90Y/QtdC8INC40LzRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LIgY29raWVcclxuICAgICAgICAgIGNvb2tpZS5zYXZlKCd1c2VybmFtZScsIHVzZXIudXNlckxvZ2luKTtcclxuICAgICAgICAgIGRpc3BhdGNoKHJlY2VpdmVVc2VyKHVzZXIudXNlckxvZ2luKSk7XHJcbiAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvY2hhdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHt0aHJvdyBlcnJvcn0pO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaWduSW4odXNlcikge1xyXG4gICAgXHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBmZXRjaCgnL2FwaS9zaWduX2luJywge1xyXG4gICAgICAgICAgICBtZXRob2Q6J3Bvc3QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgY29va2llLnNhdmUoJ3VzZXJuYW1lJywgdXNlci51c2VyTG9naW4pO1xyXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2gocmVjZWl2ZVVzZXIodXNlci51c2VyTG9naW4pKTtcclxuICAgICAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9jaGF0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzVGV4dCA9PT0gJ1VuYXV0aG9yaXplZCcpe1xyXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goc2hvd01vZGFsKCdXcm9uZyBsb2dpbiBvciBwYXNzd29yZCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsgdGhyb3cgZXJyb3IgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93TW9kYWwodGV4dCkge1xyXG4gICAgXHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICAgICAgdHlwZTp0eXBlcy5TSE9XX01PREFMLFxyXG4gICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGlkZU1vZGFsKCkge1xyXG4gICAgXHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICAgICAgdHlwZTp0eXBlcy5ISURFX01PREFMXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVjZWl2ZUNoYW5uZWxzKGxpc3QpIHtcclxuICAgIHJldHVybiBkaXNwYXRjaCA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICB0eXBlOnR5cGVzLkFERF9DSEFOTkVMUyxcclxuICAgICAgICAgICAgbGlzdFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBqb2luQ2hhbm5lbChuZXh0Q2hhbm5lbCkge1xyXG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcclxuICAgICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgICAgIHR5cGU6dHlwZXMuQ0hBTkdFX0FDVElWRV9DSEFOTkVMLFxyXG4gICAgICAgICAgICBuZXh0Q2hhbm5lbFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRNZXNzYWdlc0Zyb21EQihjaGFubmVsLCBtZXNzYWdlcykge1xyXG4gICAgcmV0dXJuIGRpc3BhdGNoID0+IHtcclxuICAgICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgICAgIHR5cGU6dHlwZXMuQUREX01TR1NfRlJPTV9EQixcclxuICAgICAgICAgICAgY2hhbm5lbCxcclxuICAgICAgICAgICAgbWVzc2FnZXNcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkU2luZ2xlTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICAgIHR5cGU6dHlwZXMuQUREX1NJTkdMRV9NRVNTQUdFLFxyXG4gICAgICAgICAgICAgIG1lc3NhZ2VcclxuICAgICAgICAgIH0pXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hhbm5lbChjaGFubmVsVGl0bGUsIHVzZXJuYW1lKSB7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIHNvY2tldC5lbWl0KCdjcmVhdGUgY2hhbm5lbCcsIHtcclxuICAgICAgICAgICAgY3JlYXRvcjogdXNlcm5hbWUsXHJcbiAgICAgICAgICAgIHRpdGxlOmNoYW5uZWxUaXRsZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNvY2tldC5lbWl0KCdnZXQgcHJpbWFyeSBsaXN0IG9mIGNoYW5uZWxzJyk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvQWN0aW9ucy9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }

})