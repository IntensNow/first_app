webpackHotUpdate(0,{

/***/ 1120:
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(2), RootInstanceProvider = __webpack_require__(10), ReactMount = __webpack_require__(12), React = __webpack_require__(98); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.checkAuth = checkAuth;\nexports.addChannels = addChannels;\nexports.requestSignUp = requestSignUp;\nexports.signUp = signUp;\nexports.signIn = signIn;\n\nvar _ActionTypes = __webpack_require__(1121);\n\nvar types = _interopRequireWildcard(_ActionTypes);\n\nvar _reactRouter = __webpack_require__(226);\n\nvar _isomorphicFetch = __webpack_require__(1122);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nvar _reactCookie = __webpack_require__(1124);\n\nvar _reactCookie2 = _interopRequireDefault(_reactCookie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction receiveUser(username) {\n    var newUser = {\n        name: username\n    };\n    return {\n        type: types.AUTH_SIGNUP_SUCCESS,\n        newUser: newUser\n    };\n}\n\nfunction checkAuth() {\n    var username = _reactCookie2.default.load('username');\n    if (!username) {\n        _reactRouter.browserHistory.push('/signup');\n    }\n}\n\nfunction addChannels(list) {\n    return function (dispatch) {\n        dispatch({\n            type: types.ADD_CHANNELS,\n            list: list\n        });\n    };\n}\n\nfunction requestSignUp() {\n    return {\n        type: types.AUTH_SIGNUP\n    };\n}\n\nfunction signUp(user) {\n\n    return function (dispatch) {\n\n        dispatch(requestSignUp());\n        return (0, _isomorphicFetch2.default)('/api/sign_up', {\n            method: 'post',\n            //заголовки, чтобы возможно было отправить json через body/\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        }).then(function (response) {\n            if (response.ok) {\n                //сохраняем имя пользователя в cokie\n                _reactCookie2.default.save('username', user.userLogin);\n                dispatch(receiveUser(user.userLogin));\n                _reactRouter.browserHistory.push('/chat');\n            }\n        }).catch(function (error) {\n            throw error;\n        });\n    };\n}\n\nfunction signIn(user) {\n\n    return function (dispatch) {\n\n        return (0, _isomorphicFetch2.default)('/api/sign_in', {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        }).then(function (response) {\n            if (response.ok) {\n                _reactCookie2.default.save('username', user.userLogin);\n                dispatch(receiveUser(user.userLogin));\n                _reactRouter.browserHistory.push('/chat');\n            }\n        }).catch(function (error) {\n            throw error;\n        });\n    };\n}\n\n/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(954); if (makeExportsHot(module, __webpack_require__(98))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot apply hot update to \" + \"index.js\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQWN0aW9ucy9pbmRleC5qcz8wYjY2Il0sIm5hbWVzIjpbImNoZWNrQXV0aCIsImFkZENoYW5uZWxzIiwicmVxdWVzdFNpZ25VcCIsInNpZ25VcCIsInNpZ25JbiIsInR5cGVzIiwicmVjZWl2ZVVzZXIiLCJ1c2VybmFtZSIsIm5ld1VzZXIiLCJuYW1lIiwidHlwZSIsIkFVVEhfU0lHTlVQX1NVQ0NFU1MiLCJsb2FkIiwicHVzaCIsImxpc3QiLCJkaXNwYXRjaCIsIkFERF9DSEFOTkVMUyIsIkFVVEhfU0lHTlVQIiwidXNlciIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwic2F2ZSIsInVzZXJMb2dpbiIsImNhdGNoIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7UUFnQmdCQSxTLEdBQUFBLFM7UUFPQUMsVyxHQUFBQSxXO1FBU0FDLGEsR0FBQUEsYTtRQU1BQyxNLEdBQUFBLE07UUEwQkFDLE0sR0FBQUEsTTs7QUFoRWhCOztJQUFZQyxLOztBQUNaOztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBR0EsU0FBU0MsV0FBVCxDQUFxQkMsUUFBckIsRUFBK0I7QUFDN0IsUUFBTUMsVUFBVTtBQUNkQyxjQUFNRjtBQURRLEtBQWhCO0FBR0EsV0FBTztBQUNMRyxjQUFNTCxNQUFNTSxtQkFEUDtBQUVMSDtBQUZLLEtBQVA7QUFJRDs7QUFFTSxTQUFTUixTQUFULEdBQXFCO0FBQ3hCLFFBQU1PLFdBQVcsc0JBQU9LLElBQVAsQ0FBWSxVQUFaLENBQWpCO0FBQ0EsUUFBSSxDQUFDTCxRQUFMLEVBQWU7QUFDWCxvQ0FBZU0sSUFBZixDQUFvQixTQUFwQjtBQUNIO0FBQ0o7O0FBRU0sU0FBU1osV0FBVCxDQUFxQmEsSUFBckIsRUFBMkI7QUFDOUIsV0FBTyxVQUFTQyxRQUFULEVBQW1CO0FBQ3RCQSxpQkFBUztBQUNUTCxrQkFBTUwsTUFBTVcsWUFESDtBQUVURjtBQUZTLFNBQVQ7QUFJSCxLQUxEO0FBTUg7O0FBRU0sU0FBU1osYUFBVCxHQUF5QjtBQUM1QixXQUFPO0FBQ0hRLGNBQUtMLE1BQU1ZO0FBRFIsS0FBUDtBQUdIOztBQUVNLFNBQVNkLE1BQVQsQ0FBZ0JlLElBQWhCLEVBQXNCOztBQUUzQixXQUFPLG9CQUFZOztBQUVqQkgsaUJBQVNiLGVBQVQ7QUFDQSxlQUFPLCtCQUFNLGNBQU4sRUFBc0I7QUFDdkJpQixvQkFBUSxNQURlO0FBRXJCO0FBQ0ZDLHFCQUFTO0FBQ0wsMEJBQVUsa0JBREw7QUFFTCxnQ0FBZ0I7QUFGWCxhQUhjO0FBT3ZCQyxrQkFBTUMsS0FBS0MsU0FBTCxDQUFlTCxJQUFmO0FBUGlCLFNBQXRCLEVBU0pNLElBVEksQ0FTQyxvQkFBWTtBQUNoQixnQkFBR0MsU0FBU0MsRUFBWixFQUFnQjtBQUNaO0FBQ0Ysc0NBQU9DLElBQVAsQ0FBWSxVQUFaLEVBQXdCVCxLQUFLVSxTQUE3QjtBQUNBYix5QkFBU1QsWUFBWVksS0FBS1UsU0FBakIsQ0FBVDtBQUNBLDRDQUFlZixJQUFmLENBQW9CLE9BQXBCO0FBQ0Q7QUFDRixTQWhCSSxFQWlCSmdCLEtBakJJLENBaUJFLGlCQUFTO0FBQUMsa0JBQU1DLEtBQU47QUFBWSxTQWpCeEIsQ0FBUDtBQWtCRCxLQXJCRDtBQXNCRDs7QUFFTSxTQUFTMUIsTUFBVCxDQUFnQmMsSUFBaEIsRUFBc0I7O0FBRXpCLFdBQU8sb0JBQVk7O0FBRWYsZUFBTywrQkFBTSxjQUFOLEVBQXNCO0FBQ3pCQyxvQkFBTyxNQURrQjtBQUV6QkMscUJBQVM7QUFDTCwwQkFBVSxrQkFETDtBQUVMLGdDQUFnQjtBQUZYLGFBRmdCO0FBTXpCQyxrQkFBTUMsS0FBS0MsU0FBTCxDQUFlTCxJQUFmO0FBTm1CLFNBQXRCLEVBUU5NLElBUk0sQ0FRRCxvQkFBWTtBQUNkLGdCQUFHQyxTQUFTQyxFQUFaLEVBQWdCO0FBQ1osc0NBQU9DLElBQVAsQ0FBWSxVQUFaLEVBQXdCVCxLQUFLVSxTQUE3QjtBQUNBYix5QkFBU1QsWUFBWVksS0FBS1UsU0FBakIsQ0FBVDtBQUNBLDRDQUFlZixJQUFmLENBQW9CLE9BQXBCO0FBQ0g7QUFDSixTQWRNLEVBZU5nQixLQWZNLENBZUEsaUJBQVM7QUFBQyxrQkFBTUMsS0FBTjtBQUFZLFNBZnRCLENBQVA7QUFnQkgsS0FsQkQ7QUFtQkgsQyIsImZpbGUiOiIxMTIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vY29uc3RhbnRzL0FjdGlvblR5cGVzJztcclxuaW1wb3J0IHsgYnJvd3Nlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCc7XHJcbmltcG9ydCBjb29raWUgZnJvbSAncmVhY3QtY29va2llJztcclxuXHJcblxyXG5mdW5jdGlvbiByZWNlaXZlVXNlcih1c2VybmFtZSkge1xyXG4gIGNvbnN0IG5ld1VzZXIgPSB7XHJcbiAgICBuYW1lOiB1c2VybmFtZVxyXG4gIH1cclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogdHlwZXMuQVVUSF9TSUdOVVBfU1VDQ0VTUyxcclxuICAgIG5ld1VzZXJcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0F1dGgoKSB7XHJcbiAgICBjb25zdCB1c2VybmFtZSA9IGNvb2tpZS5sb2FkKCd1c2VybmFtZScpO1xyXG4gICAgaWYgKCF1c2VybmFtZSkge1xyXG4gICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9zaWdudXAnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENoYW5uZWxzKGxpc3QpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihkaXNwYXRjaCkge1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICB0eXBlOiB0eXBlcy5BRERfQ0hBTk5FTFMsXHJcbiAgICAgICAgbGlzdFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdFNpZ25VcCgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTp0eXBlcy5BVVRIX1NJR05VUFxyXG4gICAgfSBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25VcCh1c2VyKSB7XHJcbiAgICBcclxuICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICBcclxuICAgIGRpc3BhdGNoKHJlcXVlc3RTaWduVXAoKSlcclxuICAgIHJldHVybiBmZXRjaCgnL2FwaS9zaWduX3VwJywge1xyXG4gICAgICAgICAgbWV0aG9kOiAncG9zdCcsXHJcbiAgICAgICAgICAgIC8v0LfQsNCz0L7Qu9C+0LLQutC4LCDRh9GC0L7QsdGLINCy0L7Qt9C80L7QttC90L4g0LHRi9C70L4g0L7RgtC/0YDQsNCy0LjRgtGMIGpzb24g0YfQtdGA0LXQtyBib2R5L1xyXG4gICAgICAgICAgaGVhZGVyczogeyBcclxuICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLCBcclxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlcilcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIGlmKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIC8v0YHQvtGF0YDQsNC90Y/QtdC8INC40LzRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LIgY29raWVcclxuICAgICAgICAgIGNvb2tpZS5zYXZlKCd1c2VybmFtZScsIHVzZXIudXNlckxvZ2luKTtcclxuICAgICAgICAgIGRpc3BhdGNoKHJlY2VpdmVVc2VyKHVzZXIudXNlckxvZ2luKSk7XHJcbiAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvY2hhdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHt0aHJvdyBlcnJvcn0pO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaWduSW4odXNlcikge1xyXG4gICAgXHJcbiAgICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBmZXRjaCgnL2FwaS9zaWduX2luJywge1xyXG4gICAgICAgICAgICBtZXRob2Q6J3Bvc3QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgY29va2llLnNhdmUoJ3VzZXJuYW1lJywgdXNlci51c2VyTG9naW4pO1xyXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2gocmVjZWl2ZVVzZXIodXNlci51c2VyTG9naW4pKTtcclxuICAgICAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9jaGF0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7dGhyb3cgZXJyb3J9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9BY3Rpb25zL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

})